<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=360, user-scalable=no" />
        <title>긴급 연락처 - SafeWalk</title>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css" />
        <link rel="preconnect" href="https://fonts.googleapis.com" />
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
        <link href="https://fonts.googleapis.com/css2?family=Vollkorn:wght@700;900&display=swap" rel="stylesheet" />
        <link
            rel="stylesheet"
            as="style"
            crossorigin
            href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.min.css"
        />
        <link rel="stylesheet" href="/css/style.css" />
    </head>
    <body>
        <div id="app-container" class="main-layout">
            <header class="app-header">
                <a th:href="@{'/main'}" class="btn-icon">
                    <i class="fas fa-arrow-left"></i>
                </a>
                <h2 class="header-title">긴급 연락처</h2>
                <a th:href="@{'/edit-contacts'}" class="btn-icon"><i class="fas fa-edit"></i></a>
            </header>

            <main class="app-content">
                <div class="list-item">
                    <div class="item-info">
                        <span class="name">119 (긴급)</span>
                        <span class="phone">119</span>
                    </div>
                    <a href="tel:119" class="call-button"><i class="fas fa-phone-alt"></i></a>
                </div>
                <div class="list-item">
                    <div class="item-info">
                        <span class="name" th:text="${userProfile.pName + ' (' + userProfile.relation + ')'}"></span>
                        <span class="phone" th:text="${userProfile.pPhoneNumber}"></span>
                    </div>
                    <a th:href="${'tel:' + userProfile.pPhoneNumber}" class="call-button"><i class="fas fa-phone-alt"></i></a>
                </div>

                <!-- 추가된 보호자 목록 -->
                <div th:each="guardian : ${userProfile.guardians}" class="list-item">
                    <div class="item-info">
                        <span class="name" th:text="${guardian.guardianName + ' (' + guardian.guardianRelation + ')'}"></span>
                        <span class="phone" th:text="${guardian.guardianPhoneNumber}"></span>
                    </div>
                    <a th:href="${'tel:' + guardian.guardianPhoneNumber}" class="call-button"><i class="fas fa-phone-alt"></i></a>
                </div>

            </main>

            <nav class="bottom-nav three-tabs">
                <a th:href="@{'/main'}" class="nav-item"> <i class="fas fa-shield-alt"></i><span>홈 (카메라)</span> </a>
                <a th:href="@{'/my-info'}" class="nav-item"> <i class="fas fa-user"></i><span>내 정보</span> </a>
                <a th:href="@{'/emergency-contacts'}" class="nav-item active">
                    <i class="fas fa-address-book"></i><span>긴급 연락처</span>
                </a>
            </nav>
        </div>
    </body>
</html>
