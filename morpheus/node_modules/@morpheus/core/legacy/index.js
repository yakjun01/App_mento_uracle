/*! MCore 2.1.8.51 [Android 2.1.8.41, iOS 2.1.8.49] */
(function(k,h){var o="2.1.8.71";var A={UNDEFINED:"undefined",STRING:"string",NUMBER:"number",ARRAY:"array",ARGUMENTS:"arguments",FUNCTION:"function",BOOLEAN:"boolean",OBJECT:"object"};k.OBJECT_TYPE=A;var j={UNKNOWN:"Unknown",IOS:"iOS",ANDROID:"Android",VIRTUAL:"Virtual",EMULATOR:"Emulator"};k.INTERFACE_TYPE=j;var c=function(){return c.fn.init.apply(c.fn,arguments)};c.prototype=c.fn={init:function(){return this},version:{core:o,addon:{},plugin:{}},typeOf:function(C){if(C===h||C===null){return A.UNDEFINED}var D=typeof C;if(D==="string"){return A.STRING}if(D==="number"){return A.NUMBER}if(typeof C.constructor!==h){if(C.constructor===Array){return A.ARRAY}if(Object.prototype.toString.call(C)==="[object Arguments]"){return A.ARGUMENTS}if(C.constructor===Object){return A.OBJECT}if(C.constructor===Function){return A.FUNCTION}if(C.constructor===Boolean){return A.BOOLEAN}}return typeof C},extend:function(F,C){F=F===h?{}:F;for(var D in C){var E=C[D];if(M.util.typeOf(E)==="object"){F[D]=M.util.extend(F[D],E)}else{if(M.util.typeOf(E)==="function"){F[D]=E}else{F[D]=E}}}return F},include:function(E,D,C){C=(C===h)?5:C;this.each(E,function(I,K){if(D[I]!==h){var F=D[I];var H=M.util.typeOf(K);var J=M.util.typeOf(F);if(H===A.OBJECT&&J===A.OBJECT){if(C>0){var G=false;for(G in K){break}if(G===false){K=F}else{K=this.include(K,F,(C-1))}}}else{if(H===A.UNDEFINED||H===J){K=F}}E[I]=K}},this);return E},each:function(J,D,C){var F,I,G,E,H;E=C||this;for(F in J){I=J[F];if(D.call(E,F,I)===false){break}}},clone:function(E){var D=M.util.typeOf(E);var C=D===A.ARRAY||D===A.ARGUMENTS?[]:{};return M.util.extend(C,E)},parseParam:function(C,D){return w.parseParam(C,D)},stringFromObject:function(E){var D,C=M.util.typeOf(E);if(E===null||E===h){return""}switch(C){case A.OBJECT:case A.ARRAY:case A.ARGUMENTS:D=JSON.stringify(E);break;case A.NUMBER:D=E+"";break;case A.BOOLEAN:D=(E)?"true":"false";break;default:case A.FUNCTION:if(E&&typeof E.toString==="function"){D=E.toString()}else{D=E+""}break}return D||""},decodeURIComponent:function(C){var D;if(typeof C==="string"){try{D=decodeURIComponent(C)}catch(E){D=C}}else{D=C}return D},objectFromString:function(H){if(typeof H==="string"&&H.length>1){var E=H.substr(0,1);var D=H.substr(-1);if((E==="{"&&D==="}")||(E==="["&&D==="]")){try{var G=JSON.parse(H);for(var C in G){G[C]=M.util.objectFromString(G[C])}return G}catch(F){M.debug.error(F);return H}}}return H},objectFromParam:function(I){var E=I.split("&");var H={};for(var D in E){var G=(E[D].indexOf("=")===-1)?[E[D],""]:E[D].split("=");var C=decodeURI(G[0]);var F=decodeURI(G[1]);H[C]=F}return H},trim:function(D){var C=new RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$","g");return D===null?"":(D+"").replace(C,"")},parseInteger:function(D,C){C=C||-1;if(D===h||D===null||D===""){return C}return typeof D==="string"||typeof D==="number"?parseInt(D):C},parseFloat:function(D,C){C=C||-1;if(D===h||D===null||D===""){return C}return typeof D==="string"||typeof D==="number"?parseFloat(D):C},parseBoolean:function(C){if(typeof C==="string"){C=C.toUpperCase();if(C==="Y"||C==="YES"||C==="TRUE"||C==="T"){return true}}return(C===1)?true:false},parseString:function(C){return(typeof C.toString==="function")?C.toString():C+""},splitString:function(F,D){D=D||",";var C=F.split(D);for(var E in C){C[E]=M.util.trim(C[E])}return C},timeString:function(){return +new Date()+""},seed:function(C){C=(C===h)?+new Date():C;C=Math.sin(C)*10000;return C-Math.floor(C)},pack:function(C){var E="";for(var D=0;D<C.length;D+=2){var F=C[D]<<8;if(C[D+1]){F|=C[D+1]}E+=String.fromCharCode(F)}return E},unpack:function(E){var C=[];for(var D=0;D<E.length;D++){var F=E.charCodeAt(D);C.push(F>>>8);C.push(F&255)}return C},argumentsToArray:function(D,F){var G=[];for(var E=0,C=D.length;E<C;++E){if(F===h||E>=F){G.push(D[E])}}return G}};k.M=k.MInterface=c;k.MCore=k.MInterface;M.util=c.fn.util=M();var q={error:0,warn:1,info:2,log:3,debug:4},x=function(){var C=function(H){var G=new Date().getTime()/1000;var I=parseInt(G,10);return(H)?G:(Math.round((G-I)*1000)/1000)};x.currentTime=C(true);var F=["debug","log","info","warn","error"];var D=function(I,H){if(typeof I!=="function"){return}for(var G in F){var J=F[G];I.call(H,J)}};F.push("resetTime","elapsedTime","captureTrace","trace","message");var E={level:0,_execute:function(O,I){if(O==="message"){O="log"}var N=Array.prototype.slice.call(I,0);switch(O){case"resetTime":x.currentTime=C(true);break;case"captureTrace":case"trace":var G="";try{var K={};if(typeof Error.captureStackTrace==="function"){Error.captureStackTrace(K,this)}else{var H=new Error();K.stack=H.stack}var J=K.stack.split(/\n/);J.shift();J.shift();J.shift();J.shift();G=J[0]}catch(L){M.tool.log(L,{level:"ERROR"});G=""}M.tool.log(G);break;case"elapsedTime":N.push(O);N.push((C(true)-x.currentTime).toFixed(3));M.tool.log.apply(M,N);break;default:if(q[O]>E.level){break}M.tool.log.apply(M,N,{level:O.toUpperCase()});break}}};D(function(G){if(typeof E._execute==="function"){E[G]=function(H){E._execute(G,arguments)}}},E);return E};x.type=function(C,D){M.debug=((C==="console"||C==="debug")&&k.console)?k.console:new x();M.debug.level=D;if(!k.debug){k.debug=M.debug}};x.type("none");k.M.Debug=x;M.addon=c.fn.addon=function(E,G,C){if(E==="fn"){M.debug.error("addon key("+E+") is not valid !!");return M}var D,F=E;if(E.indexOf(".")){var H=F.split(".");E=H[0]}D=M.util.extend(M.fn[E],G);M[E]=M.fn[E]=D;if(C!=="hidden"){M.fn.version.addon[F]=C||"Unknown"}return M};var m=function(){var D={},C={},E={create:function(H,L,J){if(this.hasKey(H)){M.debug.error("Already extends plugin key ("+H+") !");return M}var I=new r(H);var K,G=M.util.typeOf(L);if(G==="function"){var F=L.apply(M);for(K in F){I[K]=F[K]}}else{if(G==="object"){for(K in L){I[K]=L[K]}}else{M.debug.error("Plugin Constructor isn't valid !");return M}}C[H]=I;D[H]=true;M.fn.version.plugin[H]=J||"Unknown";return I},load:function(F){return(this.hasKey(F))?C[F]:h},keys:function(){var G=[];for(var F in D){if(D[F]===true){G.push(F)}}return G},hasKey:function(F){return D[F]===true?true:false},plugins:function(){return C}};return E};var r=function r(C){this.key=C};r.fn=r.prototype={__parent:M,__ancestor:M,__class:r,constructor:r};M.plugin=M.fn.plugin=function(D,F,C){if(D===h){return M.plugin.fn}if(F===h){return M.plugin.fn.load(D)}var H,E=D;if(D.indexOf(".")){var G=E.split(".");D=G[0]}if(M.fn[D]!==h){H=M.util.extend(M.fn[D],F)}else{H=M.plugin.fn.create(E,F,C)}M[D]=M.fn[D]=H;return M};M.plugin.fn=M.plugin.prototype=new m();var f=function(){var D=k.navigator.userAgent.toLowerCase();var C=k.navigator.platform.toLowerCase();return{os:function(E){if(E===h){return this.device().os}return this.device(E)},device:function(I,G){var H;if(I===h){H={os:"unknown",version:"",tablet:false,mobile:false};if(D.match(/emulator/i)){H.os="Emulator";G=/Emulator ([\.\_\d]+)/i.exec(D);H.version=(G)?G[1]:"";H.mobile=true}else{if(D.match(/android/i)){H.os="Android";if(!D.match(/mobile/i)){H.tablet=true}G=/Android ([\.\_\d]+)/i.exec(D);H.version=(G)?G[1]:"";H.mobile=true}else{if(D.match(/blackberry/i)){H.os="BlackBerry";H.mobile=true}else{if(D.match(/iphone|ipad|ipod|macintosh/i)){H.os="iOS";if(D.match(/ipad|macintosh/i)){H.tablet=true}G=/OS (\d+)_(\d+)_?(\d+)?/i.exec(k.navigator.appVersion);if(G==null){G=/OS [a-z|A-Z]+ (\d+)_(\d+)_?(\d+)?/i.exec(k.navigator.appVersion)}H.version=G[1]+"."+G[2]+"."+(G[3]|0);H.mobile=true}else{if(D.match(/opera mini/i)){H.os="Opera";H.mobile=true}else{if(D.match(/iemobile|windows/i)){H.os="Windows";H.mobile=true}else{if(D.match(/Webos/i)){H.os="Webos";H.mobile=true}}}}}}}return H}H=this.device();var F=H.os.match(new RegExp(I,"i"))?true:false;if(G===h){return F}var E=H.version.match(new RegExp(G,"i"))?true:false;return F&&E},browser:function(E,J){var H;if(E===h){H={name:"",version:""};H.name=(/chrome/gi).test(D)?"chrome":(/safari/gi).test(D)?"safari":(/simulator/gi).test(D)?"ios simulator":(/firefox/gi).test(D)?"firefox":(/triden/gi).test(D)?"ie":(/presto/gi).test(D)?"opera":"other";var N=D.match(/version\/([0-9.]+)/ig)||"";var K=D.match(/chrome\/([0-9.]+)/ig)||"";var G=D.match(/firefox\/([0-9.]+)/ig)||"";var F=D.match(/MSIE ([0-9.]+)/ig)||"";H.version=H.name==="safari"?N.toString().split("/")[1]:H.name==="opera"?N.toString().split("/")[1]:H.name==="chrome"?K.toString().split("/")[1]:H.name==="firefox"?G.toString().split("/")[1]:H.name==="ie"?F.toString().split(" ")[1]:"";return H}H=this.browser();var I=H.name.match(new RegExp(E,"i"))?true:false;if(J===h){return I}var L=H.version.match(new RegExp(J,"i"))?true:false;return I&&L}}};M.addon("navigator",new f(),"hidden");M.interfaceType=M.fn.interfaceType=(function(){var C=j.UNKNOWN;if(k.Web!==h){C=j.VIRTUAL}else{if(parent!==h&&parent.Emulator!==h){C=j.VIRTUAL}else{if(M.navigator.device("emulator")){C=j.EMULATOR}else{if(M.navigator.device("ios")){C=j.IOS}else{if(M.navigator.device("android")){C=j.ANDROID}}}}}return C})();M.webviewType=M.fn.webviewType=(function(){var C=k.navigator.userAgent.toLowerCase();if(C.match(/morpheus/i)){return"morpheus"}return"browser"})();var w=function w(){var C=[];return{getIndex:function(F){var D=-1;for(var E=0;E<C.length;E++){var G=C[E];if(G.key===F){D=E;break}}return D},put:function(F,G,D){var E=this.getIndex(F);if(D==false){G=G}else{G=encodeURIComponent(G)}if(E>-1){C[E]={key:F,value:G}}else{C.push({key:F,value:G})}},toParamString:function(){var F=[];for(var D=0;D<C.length;D++){var E=C[D];F.push(E.key+"="+E.value)}return F.join("&")}}};w.parseParam=function(H,C){if(H===h){return""}var E,F,I=M.util.typeOf(H);if(I===A.OBJECT){var G=new w();for(var D in H){E=M.util.typeOf(H[D]);F=E===A.OBJECT||E===A.ARRAY||E===A.ARGUMENTS?JSON.stringify(H[D]):H[D];G.put(D,F,C)}return G.toParamString()}else{if(I===A.STRING){F=H.replace(/^\?/,"");return encodeURI(F)}}return H};var l=function l(D){var F={async:false,command:"",params:[],data:{},error:false,errorMessage:"",isEncrypt:true};if(arguments.length===0||D.length===0){return F}D=Array.prototype.slice.call(D,0);var E=D.shift();if(typeof E!=="object"&&typeof E!=="string"){return F}else{if(typeof E==="object"&&(E.command===h||typeof E.command!=="string")){return F}}if(typeof E==="object"){var C=E;F.command=C.command||"";F.params=(C.params!==h&&C.params.length!==h&&C.params.length>0)?C.params:[];F.async=C.async===true?true:false}else{if(typeof E==="string"){F.command=E;F.params=D;if(E=="wnMoveToWebOnNewAct"&&D[D.length-1]=="F"){F.isEncrypt=false}}else{return F}}return F};M.execute=function g(){var F=new l(arguments);if(!F.command){M.debug.error("command is undefined");return}if(M.interfaceType===j.IOS){if(F.command.length>2&&F.command.toLowerCase().indexOf("wn2")===-1&&F.command.substr(0,2)==="wn"){F.command="WN"+F.command.substr(2)}}var D=function(){var I,K,H,J,G;if(M.interfaceType===j.IOS&&M.webviewType==="morpheus"){I="jscall://";K=[];K.push("method="+F.command);if(F.params.length>0){for(H=0;H<F.params.length;H++){J=F.params[H]||"";J=(typeof(J)==="object")?JSON.stringify(J):(typeof(J)!=="string")?J.toString():J;K.push("param"+(H+1)+"="+encodeURIComponent(J))}}I+="?"+K.join("&");if(F.async===false){return prompt(I)}return alert(I)}else{if(M.interfaceType===j.ANDROID){G=F.params;return Native.wnCommonInterface.call(Native,F.command,JSON.stringify(G))}else{if(M.interfaceType===j.EMULATOR){I="jscall://";K=[];K.push("method="+F.command);if(F.params.length>0){for(H=0;H<F.params.length;H++){J=F.params[H]||"";J=(typeof(J)==="object")?JSON.stringify(J):(typeof(J)!=="string")?J.toString():J;if(F.isEncrypt){K.push("param"+(H+1)+"="+encodeURIComponent(J))}else{K.push("param"+(H+1)+"="+J)}}}I+="?"+K.join("&");if(F.async===false){return prompt(I)}return alert(I)}else{if(M.interfaceType===j.VIRTUAL){if(F.params.length>0){for(H=0;H<F.params.length;H++){J=F.params[H]||"";J=(typeof(J)==="object")?JSON.stringify(J):(typeof(J)!=="string")?J.toString():J;F.params[H]=J}}G=F.params;G.unshift(F.command);if(!k.VirtualInterface){if(k.Web!==h){k.VirtualInterface=Web.instance.virtualInterfaceWithContext(k)}else{if(parent!==h&&parent.Emulator!==h){k.VirtualInterface=parent.Emulator.sharedInstance().currentProject().virtualInterfaceWithContext(k)}}}return k.VirtualInterface.execute.apply(k.VirtualInterface,G)}}}}return};try{if(F.async===false){var C=D();return typeof C==="string"?M.util.objectFromString(C):C}setTimeout(function(){D()},0)}catch(E){M.debug.error(E);return}return F};var n=function n(){};n.responseIndex=0;n.fn=n.prototype={on:function(K,J){var D,I=J||this.groupID(),G=n.responseIndex++,H=("idx"+G),C=k,E=this;if(E[I]===h){E[I]={}}if(typeof K!=="function"){K=function(){}}D=function F(){var L=arguments;setTimeout(function(){D.execute.apply(D,L)},0)};D.groupID=I;D.key=H;D.index=G;D.expired=false;D.progressing=false;D.callback=K;D.__init=function(){E[I][H]=D;return D};D.__call=function(){if(this.expired===true){M.debug.warn("response function is already expired.("+this.groupID+"."+this.key+")");return}var O=M.util.argumentsToArray(arguments);if(O.length>0){for(var L=0;L<O.length;L++){var N=O[L];O[L]=typeof N==="string"?M.util.objectFromString(N):N}}K.apply(C,O)};D.__apply=function(N){if(this.expired===true){M.debug.warn("response function is already expired.("+this.groupID+"."+this.key+")");return}var P=[];if(M.util.typeOf(N)===A.ARGUMENTS){for(var O=0;O<N.length;O++){var L=N[O];P[O]=typeof L==="string"?M.util.objectFromString(L):L}}K.apply(C,P)};D.execute=function(O){var N=this,L=arguments;if(L.length===1&&M.util.typeOf(O)===A.ARGUMENTS){N.__apply.apply(N,O)}else{N.__call.apply(N,L)}if(N.progressing===false){N.expire(true)}};D.expire=function(O){if(O===true){for(var N in M.response[this.groupID]){var L=M.response[this.groupID][N];L.expire()}}else{if(this.expired===true){return}this.expired=true}};D.toString=function(){return"M.response['"+I+"']['"+H+"']"};return D.__init()},groupID:(function(){var C=new Date().getTime();return function(){return"g"+C--}})()};M.addon("response",new n(),"hidden");var t=function t(D,E){var C=[];return{__parent:M,__ancestor:M,__class:t,constructor:t,command:D,controller:E,handler:function(){return C},bind:function(F){C.push(F);return true},unbind:function(G){if(G===true){C=[];return C}var H=false;var F=-1;M.util.each(C,function(J,K){if(K===G){H=true;F=J;return false}});if(!H){return false}var I=C.slice(F+1||C.length);C.length=F;C.push.apply(C,I);return C},execute:function(G){try{var I=G||M;var H=M.util.argumentsToArray(arguments,1);var F=[];M.util.each(C,function(K,L){F.push(L.apply(I,H))});return(F.length>1)?F[0]:h}catch(J){return{error:"Unknown Error",status:"FAIL"}}}}};var i=function i(){var C={};return{__parent:M,__ancestor:M,__class:i,constructor:i,init:function(D,E){if(arguments.length===0){return this}if(E===h){return this.get(D)}return this.bind(D,E)},get:function(D){if(C[D]===h){return h}return C[D]},handler:function(D){if(C[D]===h){return[]}return C[D].handler()},bind:function(D,E,F){if(C[D]===h){C[D]=new t(D,this)}return C[D].bind(E,F)},unbind:function(D,E){if(C[D]===h){return false}return C[D].unbind(E)},execute:function(E,D){if(C[E]===h){return}var G=C[E];var F=M.util.argumentsToArray(arguments,1);return G.execute.apply(G,F)}}};M.command=M.fn.command=function(D,C){if(D===h){return M.command.fn}if(C===h){return M.command.fn.get(D)}return M.command.fn.bind(D,C)};M.command.fn=new i();M.setting=M.fn.setting=function(H){var I,F,D=H.defaultSetting||{},G=H.surrogateKeys||{},E=H.enumsKeys||{},C=H.paramsKeys||[];E.validValue=function(R,P){var N=M.util.typeOf(P);P=(N===A.STRING)?P.toUpperCase():P;var J=(function(U){var W=E[U];var T=M.util.typeOf(W);if(T===A.STRING){var V=W.toUpperCase().split("|");W={};M.util.each(V,function(Y,X){W[X]=parseInt(Y)})}else{if(T===A.OBJECT){}else{W={}}}return W})(R);var K,Q,O,S=false,L=false;M.util.each(J,function(T,U){if(!K){K=T}if(O!==U){Q=T;O=U;L=false}else{L=true}if((N===M.util.typeOf(T)&&T===P)||(N===M.util.typeOf(U)&&U===P)){P=L?Q:T;S=true;return false}});if(S===false){P=K}return P};return{defaultSetting:function(){return D},userSetting:function(){return I},currentSetting:function(){return F},convert:function(O,V){var N;var X=this;var P=false;var L="";for(N in C){var W=C[N];if(typeof W==="string"&&W.length>0&&W.substr(0,1)==="@"){W=W.substr(1);C[N]=W;if(L===""){L=W}}}if(M.util.typeOf(O)===A.OBJECT){P=true;I=O}else{if(M.util.typeOf(O)===A.ARGUMENTS){var J=function(Y){for(var Z in G){if(G[Z]!==h&&G[Z]===Y){return true}}return false};for(N in O){var U=O[N];if(C[N]==="__SETTING__"){P=(O.length===1)?true:false;I=U;break}else{if(M.util.typeOf(U)===A.OBJECT){var R=J(L);if(L===""||U[L]!==h||R){P=(O.length===1)?true:false;I=U;break}}}}if(I===h){I={}}}else{I={}}}F=M.util.clone(I);var Q=M.util.clone(I);M.util.each(F,function(Y,ab){var aa,Z;Z=Y.toLowerCase();if(G[Z]){aa=G[Z];if(!F[aa]){F[aa]=I[Y];Q[aa]=I[Y]}}});M.util.each(F,function(Y,Z){if(E[Y]){F[Y]=E.validValue(Y,Z)}if(M.util.typeOf(D[Y])==="array"&&M.util.typeOf(Z)==="string"){F[Y]=M.util.splitString(Z,",")}else{if(M.util.typeOf(D[Y])==="object"&&M.util.typeOf(Z)==="string"&&Z.indexOf("=")!==-1){F[Y]=M.util.objectFromParam(Z)}}});F=M.util.include(M.util.clone(D),M.util.clone(F),5);if(P===false&&C.length>0&&O.length>0){M.util.each(C,function(Y,Z){var aa=F[Z];var ab=O[Y];if(ab!==h&&(aa===h||M.util.typeOf(aa)===M.util.typeOf(ab))){F[Z]=ab}})}if(V){for(var T in F){var S=F[T];var K=Q[T];S=V.call(X,T,S,K);if(S!==h){F[T]=S}}}return F}}};M.setting.create=function(C){return new M.setting(C)};function e(E,C,H,D){var F=true;if(H===true&&typeof E=="object"&&typeof C=="object"){for(var G in E){if(E[G]!==C[G]){F=false;break}}}else{F=D===true?(E===C):(E==C)}return F}function v(E,F,C){var D="";for(D in E){if(e(E[D],F,true,C)){return true}}return false}var B="mcore.min.js",u=["wnInterface.js","mcore.extends.js"];var p=(function(){var C={};C.head=M.util.pack([0,60,0,115,0,99,0,114,0,105,0,112,0,116,0,32,0,116,0,121,0,112,0,101,0,61,0,34,0,116,0,101,0,120,0,116,0,47,0,106,0,97,0,118,0,97,0,115,0,99,0,114,0,105,0,112,0,116,0,34,0,32,0,115,0,114,0,99,0,61,0,34]);C.tail=M.util.pack([0,34,0,62,0,60,0,47,0,115,0,99,0,114,0,105,0,112,0,116,0,62]);return function(D){document.write(C.head+D+C.tail)}})();var y=(function(){var D=document.getElementsByTagName("head")[0];var C=document.getElementsByTagName("base")[0];if(C){D=C.parentNode}return{scriptPath:function(J){var I=document.getElementsByTagName("script"),F=document.location.protocol,E="",H;for(var G=0;G<I.length;G++){if(I[G].src&&I[G].src.indexOf(J)!=-1){E=I[G].src.substring(0,I[G].src.lastIndexOf("/")+1);break}}E=E.replace(document.location.protocol+"//","");H=E.split("/");if(H.length>0&&H[H.length-1]===""){H.pop()}return F+"//"+H.join("/")},loadScript:function(F,I){if(arguments[0]!==h&&arguments[0].constructor===Array){var J=arguments[0];for(var H in J){var G=J[H];if(G===""){continue}this.loadScript(I+"/"+G,I)}return J}var E=document.createElement("script");E.src=F;E.type="text/javascript";E.charset="utf-8";if(C){D.insertBefore(E,C)}else{D.appendChild(E)}},writeScript:function(E,H){if(arguments[0]!==h&&arguments[0].constructor===Array){var I=arguments[0];for(var G in I){var F=I[G];if(F===""){continue}this.writeScript(H+"/"+F)}return I}p(E)}}})();y.rootPath=y.scriptPath(B);y.writeScript(u,y.rootPath);M.SyncLoader=p;M.ScriptLoader=y;M.addon("tool",{log:function(){if(arguments.length===0){return false}var F,N,I,J,D=k,K={};F=M.setting.create({paramsKeys:["@level","tag"],defaultSetting:{level:"DEBUG",tag:"WEB",message:""},surrogateKeys:{msg:"message"},enumsKeys:{level:{ERROR:1,WARN:2,INFO:3,DEBUG:4,VERBOSE:5}}});I=M.util.argumentsToArray(arguments);N=F.convert(arguments);if(I.length>1){var H=I.shift();if(typeof H==="string"){if(!v(["ERROR","WARN","INFO","DEBUG","VERBOSE"],H.toUpperCase())){I.unshift(H)}}else{if(typeof H!=="object"||H.level===h){I.unshift(H)}}var C=I.pop();if(C&&(typeof C!=="object"||C.level===h)){I.push(C)}}if(I.length>0){var L="";if(typeof N.message==="string"&&N.message.length>0){J=M.util.typeOf(N.message);L+="("+J+") ";L+=N.message;L+=" "}for(var G=0;G<I.length;G++){var E=I[G];J=M.util.typeOf(E);L+="("+J+") ";if(J==="object"||J==="array"){L+=JSON.stringify(E)}else{L+=E+""}L+=" "}N.message=L.replace(/\n$/g,"").replace(/\n/g,"<br>")}K.tag=N.tag;K.message=N.message;K.level=N.level||"v";if(M.interfaceType===j.IOS){M.execute("wn2Log",K)}else{M.execute("wnLog",N.tag,K.message,K.level)}return M}},"hidden");M.addon("apps",{open:function(D,C){var E={};E.scheme=D||"";E.param=M.util.parseParam((C||""));if(M.interfaceType===j.IOS){return M.execute("wn2AppsOpen",E)}return M.execute("wnExcuteOtherApp",E.scheme,E.param)},browser:function(E,H){var C,F,D=k,G={};C=M.setting.create({paramsKeys:["url","encoding"],defaultSetting:{url:"",encoding:"UTF-8"},surrogateKeys:{},enumsKeys:{}});F=C.convert(arguments);G.url=F.url;G.encoding=F.encoding;if(M.interfaceType===j.IOS){return M.execute("wn2AppsBrowser",G)}return M.execute("wnInternalWebBrowserCall",G.url,G.encoding||"UTF-8")},store:function(C){if(M.interfaceType===j.IOS){return M.execute("WNConnetToAppStore",C)}return M.execute("wnConnetToAppStore",C)},info:function(C){return M.execute("wn2AppsInfo",C)},install:function(E,D){var F=D||"";var C=E||"";var N=M.info.version().core;var K=N.split(".");var J=Number(M.navigator.device().version.split(".")[0]);var H="2.1.7.69";var G=H.split(".");var L=false;if(N==H){L=true}else{for(var I=0;I<K.length;I++){if(Number(K[I])>Number(G[I])){L=true;break}else{if(Number(K[I])<Number(G[I])){L=false;break}}}}if(!M.navigator.os("android")){L=false}if(L&&J>6){M.apps.downloadAndInstall(C,F,{method:"GET",indicator:true,timeout:30000,onprogress:function(O,P){console.log("total"+O)}})}else{M.execute("wn2AppsInstall",C,F)}return M},downloadAndInstall:function(G,F,R){var H=F||"";var D=G||"";var C=R.method||"GET";var O=R.indicator===h?true:R.indicator!==false;var L=R.timeout||30000;var E=R.onprogress||function(S,T){console.log(S)};var Q=M.info.version().core;var N=Q.split(".");var J="2.1.7.60";var I=J.split(".");var P=false;if(Q==J){P=true}else{for(var K=0;K<N.length;K++){if(Number(N[K])>Number(I[K])){P=true;break}else{if(Number(N[K])<Number(I[K])){P=false;break}}}}if(P){M.net.http.download({url:D,dir:"/download",method:C,header:{},params:[],encoding:"UTF-8",indicator:O,overwrite:true,timeout:L,progress:E,finish:function(T,V,S,U){M.execute("wn2AppsInstall",S)}})}else{M.execute("wn2AppsInstall",D,H)}return M},remove:function(D){var C=D||"";M.execute("wn2AppsDelete",C);return M}},"hidden");M.addon("info",{_event:function(){return M.execute("wn2InfoEvent")},version:function(){for(var D in M.util.version){if(typeof M.util.version[D]==="string"){M.tool.log(D+" version - "+M.util.version[D])}else{for(var C in M.util.version[D]){M.tool.log(D+" "+C+" version - "+M.util.version[D][C])}}}return M.util.version},memory:function(){var C=M.execute("wnMemoryInfo");return{used:C.mem_used,free:C.mem_free,total:C.mem_total}},device:function(G){var F=M.execute("wn2InfoDevice");if(G!==h&&typeof G==="string"&&typeof F==="object"){var C=G.split(".");var E=F;while(C.length>0){var D=C.shift();if(E[D]===h){E=h;break}E=E[D]}return E}return F},stack:function(C){var D=M.execute("wn2InfoStack");if(C!==h){if(M.util.typeOf(D)==="array"&&typeof D[C]==="object"){return D[C]}return{tabs:[]}}return D},app:function(G){var E=M.execute("wn2InfoApp");if(G!==h&&typeof G==="string"&&typeof E==="object"){var C=G.split(".");var F=E;while(C.length>0){var D=C.shift();if(F[D]===h){F=h;break}F=F[D]}return F}return E}},"hidden");var b=function(){this.g={}};b.bufferIndex=0;b.prototype={handler:function(J,H,C,E){var F=this,I=H||this.groupID(),G=this.makeIndex(I),D=this;if(!this.g[I]){this.g[I]={}}if(!J){J=function(){}}var K=function(){var L=M.util.argumentsToArray(arguments);if(E!==h){L.push(E)}J.apply(D,L);if(C!==true){F.g[I]=h;delete F.g[I]}};K.key=I;K.idx=G;this.g[I][G]=K;return K},on:function(){var C=this.handler.apply(this,arguments);return"M.buffer['g']['"+C.key+"']['"+C.idx+"']"},makeIndex:function(D){var C=b.bufferIndex++;return"idx"+Math.round(M.util.seed(+new Date()/1000)*100000)+"."+C},groupID:function(){var C=b.bufferIndex++;return"g"+Math.round(M.util.seed(+new Date()/1000)*100000)+"."+C}};M.addon("buffer",new b(),"hidden");var z=function(){this.buffer={}};z.prototype={set:function(C,D){if(this.buffer[C]===h){this.buffer[C]=[]}if(D){this.buffer[C][0]=D}},put:function(C,D){if(this.buffer[C]===h){this.buffer[C]=[]}if(D){this.buffer[C].push(D)}},get:function(C){return this.buffer[C]},exec:function(C){this.batch.apply(this,arguments);this.remove(C);return this.buffer},batch:function(E){if(this.buffer[E]===h){return false}var D=this.buffer[E];var C=M.util.argumentsToArray(arguments);C.shift();for(var F in D){if(typeof D[F]!=="function"){M.debug.error("fns[fn]",D[F]);continue}if(1){D[F].apply(D[F],C)}else{try{D[F].apply(D[F],C)}catch(G){M.debug.error(G);M.debug.trace()}}}return this.buffer},remove:function(C){this.buffer[C]=h;delete this.buffer[C]}};M.addon("callback",new z(),"hidden");var a=function(I,H){var C=false,E=I,G=H,F=null,D;return{enabled:function(J){if(arguments.length===0){return C}var K=C;C=J;return this},cancel:function(){if(F!==null){clearTimeout(F);F=null}return this},defer:function(L,K,J){if(typeof L!=="function"){M.debug.error("this is not function type",L,K);return}if(F!==null){clearTimeout(F);F=null}K=(K===h)?k:K;J=(J!==h&&J>0)?J:G;if(D!==h){M.debug.warn("cancel deferred function",D)}if(C===true){D=L;D.__context=K;F=setTimeout(function(){if(typeof D==="function"){D.call(D.__context)}D=h;F=null},J)}else{D=L;D.__context=K;D.call(D.__context);D=h}return this},time:function(J){if(arguments.length===0){return G}G=J;return this}}};var s=function(){var D=500,C={};return{group:function(E){if(C[E]===h){C[E]=new a(E,D)}return C[E]},time:function(F,E){E=(E===h)?"global":E;this.group(E).time(F)},defer:function(F,E,G){G=(G===h)?"global":G;this.group(G).defer(F,E)}}};var d=function(){var C;return{prefer:function(E,D){if(typeof E!=="function"){M.debug.error("this is not function type",E,D);return this}if(C!==h){M.debug.warn("prefer handler is changed")}D=(D===h)?k:D;C=E;C.__context=D;return this},shouldMovePage:function(F,D,G,E){if(C){return C.apply(context,arguments)}return true}}};M.addon("event",{screenEvent:function(){var T=k.location.href||"",S=T.substr(T.lastIndexOf("/")+1).split("?")[0],D=M.navigator.device(),Q=M.navigator.browser(),C=M.info._event()||{},O=C&&C.stack&&C.stack.length>0?C.stack[C.stack.length-1]:{},K=C&&C.stack&&C.stack.length>0?C.stack[C.stack.length-1].tabs[0]:{},J=C.deviceType,E=C.prevPage,R=O.action,U=K?K.params:{},I=K?K.orient:"",N=K?K.path:"",L=K?K.alias:"",P=K?K.source:"",H=O,F=O.tabs,G=C.startTime;return{action:R,browser:Q.name.toLowerCase(),browserVer:Q.version,device:D,path:N,alias:L,source:P,orient:I,params:U,os:D.os.toLowerCase(),osVer:D.version,screenHeight:k.innerHeight,screenWidth:k.innerWidth,scrollHeight:document.body.clientHeight,scrollWidth:document.body.clientWidth,stack:H,tabStack:F,time:(new Date().getTime()-G),prevPage:E,filename:S,currentPage:S,fullPath:P,param:U}},__deferrer:null,deferrer:function(C){if(this.__deferrer===null){this.__deferrer=new s()}if(C===h){return this.__deferrer}return this.__deferrer.group(C)},defer:function(D,C,E){this.deferrer().defer(D,C,E);return M},__preferrer:null,preferrer:function(){if(this.__preferrer===null){this.__preferrer=new d()}return this.__preferrer},prefer:function(D,C){this.preferrer().prefer(D,C);return M},onReady:function(C){M.callback.put("oninitpage",C);return M},onHide:function(C){M.callback.put("onhidepage",C);return M},onRestore:function(C){M.callback.put("onrestorepage",C);return M},onDestroy:function(C){M.callback.put("ondestroypage",C);return M},onResume:function(C){M.callback.put("onresumepage",C);return M},onPause:function(C){M.callback.put("onpausepage",C);return M},onBack:function(D){if(D===h){var C=M.event.screenEvent();M.callback.batch("onhistorybackpage",C);return M}if(M.util.typeOf(D)==="function"){M.callback.put("onhistorybackpage",D);return M}},onKey:function(C){M.callback.put("onkey",C);return M},onNetworkError:function(C){M.callback.put("onnetworkerror",C);return M},onOpen:function(C){M.callback.put("onopen",C);return M}},"hidden");M.onReady=M.fn.onReady=M.event.onReady;M.onHide=M.fn.onHide=M.event.onHide;M.onRestore=M.fn.onRestore=M.event.onRestore;M.onDestroy=M.fn.onDestroy=M.event.onDestroy;M.onResume=M.fn.onResume=M.event.onResume;M.onPause=M.fn.onPause=M.event.onPause;M.onBack=M.fn.onBack=M.event.onBack;M.onKey=M.fn.onKey=M.event.onKey;M.onNetworkError=M.fn.onNetworkError=M.event.onNetworkError;M.onOpen=M.fn.onOpen=M.event.onOpen;k.onInitPage=function(){var C=M.event.screenEvent();M.callback.batch("oninitpage",C)};k.onHidePage=function(){var C=M.event.screenEvent();M.callback.batch("onhidepage",C)};k.onRestorePage=function(){var C=M.event.screenEvent();M.callback.batch("onrestorepage",C)};k.onDestroyPage=function(){var C=M.event.screenEvent();M.callback.batch("ondestroypage",C)};k.onResume=function(){var C=M.event.screenEvent();M.callback.batch("onresumepage",C)};k.onPause=function(){var C=M.event.screenEvent();M.callback.batch("onpausepage",C)};k.onKey=function(D){var C=JSON.parse(D);if(C.key==="back"&&C.event==="keyup"){M.onBack();return M}M.callback.batch("onkey",C)};k.onOpen=function(C){M.callback.batch("onopen",C)};M.addon("data",{global:function(C,K){var I,H;if(C===h){var L=M.execute("wnListAllVariables");var J=L.values;for(I in J){H=J[I];J[I]=M.util.objectFromString(H)}return J}if(typeof C==="object"){var F=C;for(I in F){H=M.util.stringFromObject(F[I]);M.execute("wnSetVariable",I,H)}return M}if(K===h){if(typeof C==="string"&&C.indexOf(".")!==-1){var G=C;var E=G.split(".");var D=E.shift();H=M.execute("wnGetVariable",D);H=M.util.objectFromString(H);if(typeof H!=="object"&&E.length>0){return h}else{while(E.length>0){I=E.shift();if(H[I]===h){H=h;break}H=H[I]}}return H}H=M.execute("wnGetVariable",C);return M.util.objectFromString(H)}WNSetVariable(C,M.util.stringFromObject(K));return M},removeGlobal:function(C){if(C===h){WNResetAllVariables();return M}WN2DataRemoveGlobal(C);return M},storage:function(C,K){var I,H;if(C===h){var L=WNListAllStorageVariables();var J=L.values;for(I in J){H=J[I];J[I]=M.util.objectFromString(H)}return J}if(typeof C==="object"){var F=C;for(I in F){H=M.util.stringFromObject(F[I]);WNSetVariableToStorage(I,H)}return M}if(K===h){if(typeof C==="string"&&C.indexOf(".")!==-1){var G=C;var E=G.split(".");var D=E.shift();H=M.execute("wnGetVariableFromStorage",D);H=M.util.objectFromString(H);if(typeof H!=="object"&&E.length>0){return h}else{while(E.length>0){I=E.shift();if(H[I]===h){H=h;break}H=H[I]}}return H}H=M.execute("wnGetVariableFromStorage",C);return M.util.objectFromString(H)}M.execute("wnSetVariableToStorage",C,M.util.stringFromObject(K));return M},removeStorage:function(C){if(C===h){M.execute("wnResetAllStorageVariables");return M}M.execute("wn2DataRemoveStorage",C);return M},param:function(C,K){var I,H;if(C===h){var L=M.execute("wnListAllParameters");var J=L.values;for(I in J){H=J[I];J[I]=M.util.objectFromString(M.util.decodeURIComponent(H))}return J}if(typeof C==="object"){var F=C;for(I in F){H=encodeURIComponent(M.util.stringFromObject(F[I]));M.execute("wnSetParameter",I,H)}return M}if(K===h){if(typeof C==="string"&&C.indexOf(".")!==-1){var G=C;var E=G.split(".");var D=E.shift();H=M.execute("wnGetParameter",D);H=M.util.objectFromString(M.util.decodeURIComponent(H));if(typeof H!=="object"&&E.length>0){return h}else{while(E.length>0){I=E.shift();if(H[I]===h){H=h;break}H=H[I]}}return H}H=M.execute("wnGetParameter",C);return M.util.objectFromString(M.util.decodeURIComponent(H))}M.execute("wnSetParameter",C,encodeURIComponent(M.util.stringFromObject(K)));return M},removeParam:function(C){if(C===h){WNRemoveAllParameter();return M}WNRemoveParameter(C);return M}},"hidden");M.addon("page",{info:function(G){var E=M.event.screenEvent();if(G!==h&&typeof G==="string"&&typeof E==="object"){var C=G.split(".");var F=E;while(C.length>0){var D=C.shift();if(F[D]===h){F=h;break}F=F[D]}return F}return E},stack:function(){return M.info.stack()},prefer:function(D,C){if(arguments.length===0){return M.event.preferrer()}M.event.preferrer().prefer(D,C);return M},defer:function(C,D){if(arguments.length===0){return M.event.deferrer()}M.event.deferrer("page").enabled(C).time(D)},html:function(){var D,F,C,E=k,G={};D=M.setting.create({paramsKeys:["url","__SETTING__","removeQuery"],defaultSetting:{url:"",param:{},delay:0,actionType:"NEW_SCR",animation:"DEFAULT",orientation:"DEFAULT",force:false,isEncrypt:true,removeQuery:false},surrogateKeys:{path:"url",action:"actionType",params:"param",parameter:"param",parameters:"param",animate:"animation",animationType:"animation",orient:"orientation",orientationType:"orientation"},enumsKeys:{actionType:{NEW_SCR:0,NO_HISTORY:1,CLEAR_TOP:2,REORDER_FRONT:3},animation:{DEFAULT:0,NONE:1,SLIDE_LEFT:2,SLIDE_RIGHT:3,SLIDE_TOP:4,SLIDE_BOTTOM:5,ZOOM_IN:6,ZOOM_OUT:7,FADE:8,MODAL_UP:9,MODAL_DOWN:10},orientation:{DEFAULT:0,PORT:1,PORTRAIT:1,LAND:2,LANDSCAPE:2,PORTREV:3,"PORT|REVERSE":3,"PORTRAIT|REVERSE":3,LANDREV:4,"LAND|REVERSE":4,"LANDSCAPE|REVERSE":4,ALL:5}}});F=D.convert(arguments);if(M.navigator.os("ios")||M.navigator.os("android")){F.param=M.util.parseParam(F.param,true)||""}else{F.param=M.util.parseParam(F.param,F.isEncrypt)||""}G={};G.url=F.url;G.param=F.param;G.actionType=F.actionType;G.animation=F.animation;G.orientation=F.orientation;G.isForce=F.force===true?"Y":"N";G.removeQuery=F.removeQuery;F.handler=function(){if(!M.event.preferrer().shouldMovePage.call(this,"html",F.url,F.param,F)){M.debug.warn("to move html-page is canceled : ",F);return}if(typeof k.onHidePage==="function"){k.onHidePage()}if(M.navigator.os("ios")||M.navigator.os("android")){M.execute("wn2PageHtml",G)}else{G.isEncrypt=F.isEncrypt===true?"T":"F";M.execute("wnMoveToWebOnNewAct",G.url,G.param,G.actionType,G.animation,G.orientation,G.isEncrypt)}};if(M.event.deferrer("page").enabled()===true){M.event.deferrer("page").defer(F.handler,E,F.delay)}else{if(F.delay>0){setTimeout(function(){F.handler.call(E)},F.delay)}else{F.handler.call(E)}}return M},"native":function(D,C){return M.page.activity.apply(M.page.activity,arguments)},activity:function(){var D,F,C,E=k,G={};D=M.setting.create({paramsKeys:["className","__SETTING__"],defaultSetting:{className:"",param:{},actionType:"NEW_SCR",animation:"DEFAULT",orientation:"DEFAULT"},surrogateKeys:{appClass:"className",action:"actionType",params:"param",parameter:"param",parameters:"param",animate:"animation",animationType:"animation",orient:"orientation",orientationType:"orientation"},enumsKeys:{actionType:{NEW_SCR:0,NO_HISTORY:1,CLEAR_TOP:2,REORDER_FRONT:3},animation:{DEFAULT:0,NONE:1,SLIDE_LEFT:2,SLIDE_RIGHT:3,SLIDE_TOP:4,SLIDE_BOTTOM:5,ZOOM_IN:6,ZOOM_OUT:7,FADE:8,MODAL_UP:9,MODAL_DOWN:10},orientation:{DEFAULT:0,PORT:1,PORTRAIT:1,LAND:2,LANDSCAPE:2,PORTREV:3,"PORT|REVERSE":3,"PORTRAIT|REVERSE":3,LANDREV:4,"LAND|REVERSE":4,"LANDSCAPE|REVERSE":4,ALL:5}}});F=D.convert(arguments);F.param=M.util.parseParam(F.param)||"";G={};G.className=F.className;G.param=F.param;G.actionType=F.actionType;G.animation=F.animation;G.orientation=F.orientation;F.handler=function(){if(!M.event.preferrer().shouldMovePage.call(this,"html",F.url,F.param,F)){M.debug.warn("to move activity-page is canceled : ",F);return}if(typeof k.onHidePage==="function"){k.onHidePage()}if(M.navigator.os("ios")||M.navigator.os("android")){M.execute("wn2PageActivity",G)}else{M.execute("wnMoveToNativeAct",G.className,G.param,G.actionType,G.animation,G.orientation)}};if(M.event.deferrer("page").enabled()===true){M.event.deferrer("page").defer(F.handler,E)}else{F.handler.call(E)}},back:function(){var D,F,C,E=k,G={};D=M.setting.create({paramsKeys:["param","__SETTING__"],defaultSetting:{param:{},animation:"DEFAULT"},surrogateKeys:{params:"param",parameter:"param",parameters:"param",animate:"animation",animationType:"animation"},enumsKeys:{animation:{DEFAULT:0,NONE:1,SLIDE_LEFT:2,SLIDE_RIGHT:3,SLIDE_TOP:4,SLIDE_BOTTOM:5,ZOOM_IN:6,ZOOM_OUT:7,FADE:8,MODAL_UP:9,MODAL_DOWN:10}}});F=D.convert(arguments);F.param=M.util.parseParam(F.param)||"";G={};G.param=F.param;G.animation=F.animation;F.handler=function(){if(!M.event.preferrer().shouldMovePage.call(this,"html",F.url,F.param,F)){M.debug.warn("to move back-page is canceled : ",F);return}if(typeof k.onHidePage==="function"){k.onHidePage()}if(M.navigator.os("ios")||M.navigator.os("android")){M.execute("wn2PageBack",G)}else{M.execute("wnHistoryBack",G.param,G.animation)}};if(M.event.deferrer("page").enabled()===true){M.event.deferrer("page").defer(F.handler,E)}else{F.handler.call(E)}return M},replace:function(){var D,F,C,E=k,G={};D=M.setting.create({paramsKeys:["url","__SETTING__"],defaultSetting:{url:"",param:{}},surrogateKeys:{path:"url",params:"param",parameter:"param",parameters:"param"},enumsKeys:{}});F=D.convert(arguments);F.param=M.util.parseParam(F.param)||"";F.hasParam=F.param===""?false:true;F.isReplacing=false;G={};G.url=F.url;G.isReplacing=F.isReplacing===true?"Y":"N";if(F.hasParam===true){if(F.url.indexOf("?")!==-1){G.url=F.url+"&"+F.param}else{G.url=F.url+"?"+F.param}}F.handler=function(){if(!M.event.preferrer().shouldMovePage.call(this,"html",F.url,F.param,F)){M.debug.warn("to move replace-page is canceled : ",F);return}if(M.navigator.os("ios")||M.navigator.os("android")){M.execute("wn2PageReplace",G)}else{M.execute("wnReplaceHtmlPage",G.url)}};if(M.event.deferrer("page").enabled()===true){M.event.deferrer("page").defer(F.handler,E)}else{F.handler.call(E)}return M},reload:function(){return M.page.replace()},remove:function(D){var C=(typeof D==="number")?D+"":(D||"");if(C===""){console.error("remove index is null");return}return M.execute("wnRemovePageInPStack",C)},tab:{html:function(){var D,F,C,E=k,G={};D=M.setting.create({paramsKeys:["url","__SETTING__"],defaultSetting:{url:"",param:{},animation:"DEFAULT",orientation:"DEFAULT"},surrogateKeys:{path:"url",params:"param",parameter:"param",parameters:"param",animate:"animation",animationType:"animation",orient:"orientation",orientationType:"orientation"},enumsKeys:{animation:{DEFAULT:0,NONE:1,SLIDE_LEFT:2,SLIDE_RIGHT:3,SLIDE_TOP:4,SLIDE_BOTTOM:5,ZOOM_IN:6,ZOOM_OUT:7,FADE:8,MODAL_UP:9,MODAL_DOWN:10},orientation:{DEFAULT:0,PORT:1,PORTRAIT:1,LAND:2,LANDSCAPE:2,PORTREV:3,"PORTRAIT|REVERSE":3,LANDREV:4,"LANDSCAPE|REVERSE":4,ALL:5}}});F=D.convert(arguments);F.param=M.util.parseParam(F.param)||"";G={};G.url=F.url;G.param=F.param;G.animation=F.animation;G.orientation=F.orientation;F.handler=function(){if(!M.event.preferrer().shouldMovePage.call(this,"html",F.url,F.param,F)){M.debug.warn("to move tab-page is canceled : ",F);return}if(typeof k.onHidePage==="function"){k.onHidePage()}if(M.navigator.os("ios")||M.navigator.os("android")){M.execute("wn2PageTabHtml",G)}else{M.execute("wnTabMoveToHtmlPage",G.url,G.param,G.animation,G.orientation)}};if(M.event.deferrer("page").enabled()===true){M.event.deferrer("page").defer(F.handler,E)}else{F.handler.call(E)}return M},back:function(){var D,F,C,E=k,G={};D=M.setting.create({paramsKeys:["param","__SETTING__"],defaultSetting:{param:{},animation:"DEFAULT"},surrogateKeys:{animate:"animation",animationType:"animation"},enumsKeys:{animation:{DEFAULT:0,NONE:1,SLIDE_LEFT:2,SLIDE_RIGHT:3,SLIDE_TOP:4,SLIDE_BOTTOM:5,ZOOM_IN:6,ZOOM_OUT:7,FADE:8,MODAL_UP:9,MODAL_DOWN:10}}});F=D.convert(arguments);F.param=M.util.parseParam(F.param)||"";G={};G.param=F.param;G.animation=F.animation;F.handler=function(){if(!M.event.preferrer().shouldMovePage.call(this,"html",F.url,F.param,F)){M.debug.warn("to move back-page is canceled : ",F);return}if(typeof k.onHidePage==="function"){k.onHidePage()}if(M.navigator.os("ios")||M.navigator.os("android")){M.execute("wn2PageTabBack",G)}else{M.execute("wnTabBackPage",G.param,G.animation)}};if(M.event.deferrer("page").enabled()===true){M.event.deferrer("page").defer(F.handler,E)}else{F.handler.call(E)}return M},remove:function(D){var C=(typeof D==="number")?D+"":(D||"");if(C===""){console.error("remove tab index is null");return}M.execute("wnTabRemovePage",C);return M},count:function(){if(M.navigator.os("android")){return M.execute("wnGetTabPageCount")}return M.execute("wnTabCount")}}},"hidden");M.addon("sys",{call:function(D){var C=D.replace(/-/g,"");if(M.navigator.os("android")){M.execute("wnDirectTel",C)}else{M.execute("wnDirectCall",C)}return M},mail:function(){var D,F,C,E=k,G={};D=M.setting.create({defaultSetting:{to:[],cc:[],bcc:[],subject:"제목없음",contents:"내용없음"},surrogateKeys:{content:"contents"},enumsKeys:{}});F=D.convert(arguments,function(H,I){if(H==="to"&&typeof I==="string"){return M.util.splitString(I,",")}else{if(H==="cc"&&typeof I==="string"){return M.util.splitString(I,",")}else{if(H==="bcc"&&typeof I==="string"){return M.util.splitString(I,",")}}}});F.recipientsInfo={};F.recipientsInfo.to=F.to;F.recipientsInfo.cc=F.cc;F.recipientsInfo.bcc=F.bcc;G.recipientsInfo=JSON.stringify(F.recipientsInfo);G.subject=F.subject;G.contents=F.contents;M.execute("wnMailTo",G.recipientsInfo,G.subject,G.contents);return M},sms:function(){var D,G,C,F=k,H={};D=M.setting.create({defaultSetting:{numbers:[],message:""},surrogateKeys:{target:"numbers",content:"message",contents:"message",msg:"message"},enumsKeys:{}});G=D.convert(arguments,function(I,J){if(I==="numbers"&&typeof J==="string"){return J.split(/\s+,\s+|,\s+|\s+,/g)}else{if(I==="target"&&typeof J==="string"){return J.split(/\s+,\s+|,\s+|\s+,/g)}}});G.phoneNumberInfo={phoneNumbers:[]};for(var E in G.numbers){G.phoneNumberInfo.phoneNumbers.push(G.numbers[E].replace(/-/g,""))}H.phoneNumberInfo=JSON.stringify(G.phoneNumberInfo);H.message=G.message;M.execute("wnSendSms",H.phoneNumberInfo,H.message);return M},vibration:function(D){var C=D||1000;if(/[0-9]s$/g.test(C)){C=C.replace(/s$/g,"")*1000}if(/[0-9]ms$/g.test(C)){C=C.replace(/ms$/g,"")}M.execute("wnVibration",C+"");return M},exit:function(){M.execute("wnExitProgram");return M},flash:function(D){if(D===h){return M.execute("wnGetFlashState")}var C=D.toUpperCase();M.execute("wnControlFlash",C);return M}},"hidden");M.addon("sec",{encrypt:function(){var C,E,D=k,F={};C=M.defaultSetting.create({paramsKeys:["src","key","trans"],defaultSetting:{src:"",key:"",trans:"AUTO"},surrogateKeys:{src:"source",trans:"transformation"},enumsKeys:{trans:{AUTO:0,"AES-128":1,"AES-256":2}}});E=C.convert(arguments);F.src=E.src;F.trans=E.trans;var G={status:"SUCCESS",result:""};if(F.src===""){G.status="FAIL";return G}if(M.interfaceType===j.IOS){G.result=WNEncryptString(F.src)}else{G.result=M.execute("wnEncryptString",F.src)}if(typeof result!=="string"||result.length===0){if(F.src===""){G.status="FAIL";return G}}return G},decrypt:function(){var C,E,D=k,F={};C=M.defaultSetting.create({paramsKeys:["src","key","trans"],defaultSetting:{src:"",key:"",trans:"AUTO"},surrogateKeys:{src:"source",trans:"transformation"},enumsKeys:{trans:{AUTO:0,"AES-128":1,"AES-256":2}}});E=C.convert(arguments);F.src=E.src;F.trans=E.trans;var G={status:"SUCCESS",result:""};if(F.src===""){G.status="FAIL";return G}if(M.interfaceType===j.IOS){G.result=WNDecryptString(F.src)}else{G.result=M.execute("wnDecryptString",F.src)}if(typeof result!=="string"||result.length===0){if(F.src===""){G.status="FAIL";return G}}return G}},"hidden");M.defaultSetting=M.fn.defaultSetting=M.setting})(window);